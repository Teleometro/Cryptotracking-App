/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package major_project;

import org.junit.jupiter.api.Test;

import major_project.model.JsonConverter;
import major_project.model.Currency;

import static org.junit.jupiter.api.Assertions.*;

import java.util.ArrayList;
import java.util.List;


class JsonConverterTest {
    @Test 
    void listingTest() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": 1,
                        \"name\": \"Bitcoin\",
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Bitcoin", "BTC", 1));
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }

    @Test
    void emptyStringListing() {
        String listingString = "";
        
        List<Currency> actual = JsonConverter.listing(listingString);
        assertEquals(0, actual.size());
    }

    @Test
    void nullListing() {
        String listingString = null;
        
        List<Currency> actual = JsonConverter.listing(listingString);
        assertEquals(0, actual.size());
    }

    @Test
    void incorrectFormatListing() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"dota\": [{
                        \"id\": 1,
                        \"name\": \"Bitcoin\",
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        
        List<Currency> actual = JsonConverter.listing(listingString);
        assertEquals(0, actual.size());
    }

    @Test
    void incorrectFormatListing2() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            }""";
        
        List<Currency> actual = JsonConverter.listing(listingString);
        assertEquals(0, actual.size());
    }
    @Test 
    void missingDatalistingTest() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": 1,
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }
    @Test 
    void missingDataistingTest2() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"name\": \"Bitcoin\",
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }
    @Test 
    void missingDatalistingTest3() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": 1,
                        \"name\": \"Bitcoin\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }
    @Test 
    void malformedlistingTest() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": \"abc\",
                        \"name\": \"Bitcoin\",
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }

    @Test 
    void malformedlistingTest2() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": 1,
                        \"name\": null,
                        \"symbol\": \"BTC\",
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }

    @Test 
    void malformedlistingTest3() {
        String listingString = """
            {
                \"status\": {
                    \"timestamp\": \"2022-05-01T10:22:56.567Z\",
                    \"error_code\": 0,
                    \"error_message\": null,
                    \"elapsed\": 27,
                    \"credit_count\": 1,
                    \"notice\": null,
                    \"total_count\": 10085
                },
                \"data\": [{
                        \"id\": 1,
                        \"name\": \"Bitcoin\",
                        \"symbol\": null,
                        \"slug\": \"bitcoin\",
                        \"num_market_pairs\": 9379,
                        \"date_added\": \"2013-04-28T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"sha-256\", \"store-of-value\", \"state-channel\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"galaxy-digital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\"],
                        \"max_supply\": 21000000,
                        \"circulating_supply\": 19027400,
                        \"total_supply\": 19027400,
                        \"platform\": null,
                        \"cmc_rank\": 1,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:22:00.000Z\"
                    }, {
                        \"id\": 1027,
                        \"name\": \"Ethereum\",
                        \"symbol\": \"ETH\",
                        \"slug\": \"ethereum\",
                        \"num_market_pairs\": 5670,
                        \"date_added\": \"2015-08-07T00:00:00.000Z\",
                        \"tags\": [\"mineable\", \"pow\", \"smart-contracts\", \"ethereum-ecosystem\", \"coinbase-ventures-portfolio\", \"three-arrows-capital-portfolio\", \"polychain-capital-portfolio\", \"binance-labs-portfolio\", \"blockchain-capital-portfolio\", \"boostvc-portfolio\", \"cms-holdings-portfolio\", \"dcg-portfolio\", \"dragonfly-capital-portfolio\", \"electric-capital-portfolio\", \"fabric-ventures-portfolio\", \"framework-ventures-portfolio\", \"hashkey-capital-portfolio\", \"kenetic-capital-portfolio\", \"huobi-capital-portfolio\", \"alameda-research-portfolio\", \"a16z-portfolio\", \"1confirmation-portfolio\", \"winklevoss-capital-portfolio\", \"usv-portfolio\", \"placeholder-ventures-portfolio\", \"pantera-capital-portfolio\", \"multicoin-capital-portfolio\", \"paradigm-portfolio\", \"injective-ecosystem\", \"bnb-chain\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 120601285.3115,
                        \"total_supply\": 120601285.3115,
                        \"platform\": null,
                        \"cmc_rank\": 2,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }, {
                        \"id\": 825,
                        \"name\": \"Tether\",
                        \"symbol\": \"USDT\",
                        \"slug\": \"tether\",
                        \"num_market_pairs\": 32644,
                        \"date_added\": \"2015-02-25T00:00:00.000Z\",
                        \"tags\": [\"payments\", \"stablecoin\", \"asset-backed-stablecoin\", \"avalanche-ecosystem\", \"solana-ecosystem\", \"arbitrum-ecosytem\", \"moonriver-ecosystem\", \"injective-ecosystem\", \"bnb-chain\", \"usd-stablecoin\"],
                        \"max_supply\": null,
                        \"circulating_supply\": 83152877108.0891,
                        \"total_supply\": 85713951815.52061,
                        \"platform\": {
                            \"id\": 1027,
                            \"name\": \"Ethereum\",
                            \"symbol\": \"ETH\",
                            \"slug\": \"ethereum\",
                            \"token_address\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\"
                        },
                        \"cmc_rank\": 3,
                        \"self_reported_circulating_supply\": null,
                        \"self_reported_market_cap\": null,
                        \"last_updated\": \"2022-05-01T10:21:00.000Z\"
                    }
            ]
            }""";
        List<Currency> expected = new ArrayList<>();
        expected.add(new Currency("Ethereum", "ETH", 1027));
        expected.add(new Currency("Tether", "USDT", 825));
        List<Currency> actual = JsonConverter.listing(listingString);
        for (int i = 0; i < expected.size(); i++) {
            assertEquals(expected.get(i), actual.get(i));
            
        }
    }

    @Test
    void emptyStringMetadataTest() {
        String metadataString = "";
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertFalse(cur.hasMetadata());
        assertEquals(null, cur.getWebsite());
        assertEquals(null, cur.getLogoURL());
        assertEquals(null, cur.getDateLaunched());
        assertEquals(null, cur.getDescription());
        assertEquals(cur, actual);
    }

    @Test
    void nullMetadataTest() {
        String metadataString = null;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertFalse(cur.hasMetadata());
        assertEquals(null, cur.getWebsite());
        assertEquals(null, cur.getLogoURL());
        assertEquals(null, cur.getDateLaunched());
        assertEquals(null, cur.getDescription());
        assertEquals(cur, actual);
    }

    @Test
    void nullCurrencyMetadataTest() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = null;
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertEquals(null, actual);
    }

    @Test
    void badMetadataTest() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"dota\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertFalse(cur.hasMetadata());
        assertEquals(null, cur.getWebsite());
        assertEquals(null, cur.getLogoURL());
        assertEquals(null, cur.getDateLaunched());
        assertEquals(null, cur.getDescription());
        assertEquals(cur, actual);
    }

    @Test
    void MetadataTest() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals("https://bitcoin.org/", cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }
    @Test
    void dummyCatchMetadataTest() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 123);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals("https://bitcoin.org/", cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }
    @Test
    void MetadataTest2() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":null,\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals("https://bitcoin.org/", cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals(null, cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }
    @Test
    void MetadataTest3() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":null,\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals("https://bitcoin.org/", cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals(null, cur.getDescription());
        assertEquals(cur, actual);

    }
    @Test
    void MetadataTest4() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":null,\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals(null, cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }

    @Test
    void MetadataTest5() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":\"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png\",\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals(null, cur.getWebsite());
        assertEquals("https://s2.coinmarketcap.com/static/img/coins/64x64/1.png", cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }
    @Test
    void MetadataTest6() {
        String metadataString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:15.373Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":20,\"credit_count\":1,\"notice\":null},
            \"data\":{\"1\":{\"id\":1,\"name\":\"Bitcoin\",\"symbol\":\"BTC\",\"category\":\"coin\",\"description\":\"Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.\",\"slug\":\"bitcoin\",\"logo\":null,\"subreddit\":\"bitcoin\",\"notice\":\"\",\"tags\":[\"mineable\",\"pow\",\"sha-256\",\"store-of-value\",\"state-channel\",\"coinbase-ventures-portfolio\",\"three-arrows-capital-portfolio\",\"polychain-capital-portfolio\",\"binance-labs-portfolio\",\"blockchain-capital-portfolio\",\"boostvc-portfolio\",\"cms-holdings-portfolio\",\"dcg-portfolio\",\"dragonfly-capital-portfolio\",\"electric-capital-portfolio\",\"fabric-ventures-portfolio\",\"framework-ventures-portfolio\",\"galaxy-digital-portfolio\",\"huobi-capital-portfolio\",\"alameda-research-portfolio\",\"a16z-portfolio\",\"1confirmation-portfolio\",\"winklevoss-capital-portfolio\",\"usv-portfolio\",\"placeholder-ventures-portfolio\",\"pantera-capital-portfolio\",\"multicoin-capital-portfolio\",\"paradigm-portfolio\"],\"tag-names\":[\"Mineable\",\"PoW\",\"SHA-256\",\"Store Of Value\",\"State Channel\",\"Coinbase Ventures Portfolio\",\"Three Arrows Capital Portfolio\",\"Polychain Capital Portfolio\",\"Binance Labs Portfolio\",\"Blockchain Capital Portfolio\",\"BoostVC Portfolio\",\"CMS Holdings Portfolio\",\"DCG Portfolio\",\"DragonFly Capital Portfolio\",\"Electric Capital Portfolio\",\"Fabric Ventures Portfolio\",\"Framework Ventures Portfolio\",\"Galaxy Digital Portfolio\",\"Huobi Capital Portfolio\",\"Alameda Research Portfolio\",\"a16z Portfolio\",\"1Confirmation Portfolio\",\"Winklevoss Capital Portfolio\",\"USV Portfolio\",\"Placeholder Ventures Portfolio\",\"Pantera Capital Portfolio\",\"Multicoin Capital Portfolio\",\"Paradigm Portfolio\"],\"tag-groups\":[\"OTHERS\",\"ALGORITHM\",\"ALGORITHM\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\",\"CATEGORY\"],\"urls\":{\"website\":[\"https://bitcoin.org/\"],\"twitter\":[],\"message_board\":[\"https://bitcointalk.org\"],\"chat\":[],\"facebook\":[],\"explorer\":[\"https://blockchain.coinmarketcap.com/chain/bitcoin\",\"https://blockchain.info/\",\"https://live.blockcypher.com/btc/\",\"https://blockchair.com/bitcoin\",\"https://explorer.viabtc.com/btc\"],\"reddit\":[\"https://reddit.com/r/bitcoin\"],\"technical_doc\":[\"https://bitcoin.org/bitcoin.pdf\"],\"source_code\":[\"https://github.com/bitcoin/bitcoin\"],\"announcement\":[]},\"platform\":null,\"date_added\":\"2013-04-28T00:00:00.000Z\",\"twitter_username\":\"\",\"is_hidden\":0,\"date_launched\":\"1969-04-20\",\"contract_address\":[],\"self_reported_circulating_supply\":null,\"self_reported_tags\":null,\"self_reported_market_cap\":null}}}
        """;
        Currency cur = new Currency("name", "symbol", 1);
        Currency actual = JsonConverter.metadata(metadataString, cur);
        assertTrue(cur.hasMetadata());
        assertEquals("https://bitcoin.org/", cur.getWebsite());
        assertEquals(null, cur.getLogoURL());
        assertEquals("1969-04-20", cur.getDateLaunched());
        assertEquals("Bitcoin (BTC) is a cryptocurrency . Users are able to generate BTC through the process of mining. Bitcoin has a current supply of 19,027,400. The last known price of Bitcoin is 38,012.14022782 USD and is down -1.56 over the last 24 hours. It is currently trading on 9379 active market(s) with $26,985,504,678.42 traded over the last 24 hours. More information can be found at https://bitcoin.org/.", cur.getDescription());
        assertEquals(cur, actual);

    }

    @Test
    void emptyStringConvertTest() {
        String convertString = "";
        int id = 1;
        
        try {
            double actual = JsonConverter.convert(convertString, id);    
            assertFalse(true);
        } catch (Exception e) {
            assertEquals(e.getMessage(), "did not recieve conversion data");;
        }
    }

    @Test
    void nullConvertTest() {
        String convertString = null;
        int id = 1;
        try {
            double actual = JsonConverter.convert(convertString, id);    
            assertFalse(true);
        } catch (Exception e) {
            assertEquals(e.getMessage(), "did not recieve conversion data");;
        }
    }

    @Test
    void ConvertTest() {
        String convertString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:42.178Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":63,\"credit_count\":1,\"notice\":null},\"data\":{\"id\":1,\"symbol\":\"BTC\",\"name\":\"Bitcoin\",\"amount\":12,\"last_updated\":\"2022-05-01T10:23:00.000Z\",\"quote\":{\"2010\":{\"price\":589568.9593595711,\"last_updated\":\"2022-05-01T10:23:00.000Z\"}}}}
        """;
        int id = 1;
        try {
            double actual = JsonConverter.convert(convertString, id);    
            assertEquals(589568.9593595711, actual);
        } catch (Exception e) {
            assertFalse(true);}
    }

    @Test
    void ConvertTest2() {
        String convertString = """
            {\"status\":{\"timestamp\":\"2022-05-01T10:23:42.178Z\",\"error_code\":0,\"error_message\":null,\"elapsed\":63,\"credit_count\":1,\"notice\":null},\"data\":{\"id\":1,\"symbol\":\"BTC\",\"name\":\"Bitcoin\",\"amount\":12,\"last_updated\":\"2022-05-01T10:23:00.000Z\",\"quote\":{\"2010\":{\"price\":589568.9593595711,\"last_updated\":\"2022-05-01T10:23:00.000Z\"}}}}
        """;
        int id = 123;
        try {
            double actual = JsonConverter.convert(convertString, id);    
            assertEquals(589568.9593595711, actual);
        } catch (Exception e) {
            assertFalse(true);}
    }

}
